### Auth API ###
# @name Register
POST http://localhost:8080/api/auth/register
Content-Type: application/json

{
  "username": "testuser",
  "password": "password",
  "email": "test@example.com",
  "fullName": "Test User"
}

###
# @name Login
POST http://localhost:8080/api/auth/login
Content-Type: application/json

{
    "username": "testuser",
    "password": "password"
}

> {%
    client.global.set("authToken", response.body.token);
    client.global.set("userId", response.body.userId);
%}

### Stations API ###
# @name GetStations
GET http://localhost:8080/api/stations

### Search API ###
# @name SearchTrains
GET http://localhost:8080/api/search?from=CEN&to=NDLS&date=2026-01-20

### Train API ###
# @name GetTrainDetails
GET http://localhost:8080/api/trains/1

###
# @name GetTrainRoute
GET http://localhost:8080/api/trains/1/route

### Seat API ###
# @name GetSeats
GET http://localhost:8080/api/seats?trainId=1&date=2026-01-20&coach=S1

### Booking API ###
# @name CreateBooking
POST http://localhost:8080/api/bookings
Content-Type: application/json
Authorization: Bearer {{authToken}}

{
  "userId": {{userId}},
  "trainId": 1,
  "journeyDate": "2026-01-20",
  "sourceStationId": 1,
  "destStationId": 5,
  "coachType": "S1",
  "selectedSeats": [1, 2]
}

###
# @name GetUserBookings
GET http://localhost:8080/api/bookings/user/{{userId}}
Authorization: Bearer {{authToken}}

###
# @name CancelBooking
DELETE http://localhost:8080/api/bookings/1
Authorization: Bearer {{authToken}}

### Admin API ###
# @name AdminLogin
POST http://localhost:8080/api/auth/login
Content-Type: application/json

{
    "username": "admin",
    "password": "adminpassword"
}

> {%
    client.global.set("adminToken", response.body.token);
%}

###
# @name GetAdminStats
GET http://localhost:8080/api/admin/stats
Authorization: Bearer {{adminToken}}

###
# @name GetOccupancy
GET http://localhost:8080/api/admin/occupancy?trainId=1&date=2026-01-20
Authorization: Bearer {{adminToken}}

###
# @name GetAllBookingsAdmin
GET http://localhost:8080/api/admin/bookings
Authorization: Bearer {{adminToken}}

###
# @name GetBookingDetailsAdmin
GET http://localhost:8080/api/admin/bookings/1
Authorization: Bearer {{adminToken}}

###
# @name CancelBookingAdmin
PUT http://localhost:8080/api/admin/bookings/1/cancel
Authorization: Bearer {{adminToken}}

###
# @name RefundBookingAdmin
PUT http://localhost:8080/api/admin/bookings/1/refund
Authorization: Bearer {{adminToken}}

###
# @name GetAllTrainsAdmin
GET http://localhost:8080/api/admin/trains
Authorization: Bearer {{adminToken}}

###
# @name CreateTrainAdmin
POST http://localhost:8080/api/admin/trains
Content-Type: application/json
Authorization: Bearer {{adminToken}}

{
  "trainNumber": "99999",
  "trainName": "Test Express",
  "totalSeatsPerCoach": 60
}

### nothing here random test
# @name BlockSeatsAdmin
POST http://localhost:8080/api/admin/seats/block
Content-Type: application/json
Authorization: Bearer {{adminToken}}

{
  "trainId": 1,
  "date": "2026-01-20",
  "coach": "S1",
  "seatNumbers": [10, 11, 12]
}

###
# @name UnblockSeatsAdmin
DELETE http://localhost:8080/api/admin/seats/block
Content-Type: application/json
Authorization: Bearer {{adminToken}}

{
  "trainId": 1,
  "date": "2026-01-20",
  "coach": "S1",
  "seatNumbers": [10, 11, 12]
}
